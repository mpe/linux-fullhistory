ifeq ($(CONFIG_HOST_2G_2G), y)
TOP_ADDR = 0x80000000
else
TOP_ADDR = 0xc0000000
endif

CFLAGS += -U__$(SUBARCH)__ -U$(SUBARCH)
ELF_ARCH = $(SUBARCH)
ELF_FORMAT = elf32-$(SUBARCH)

SYS_DIR		:= $(ARCH_DIR)/include/sysdep-i386
SYS_UTIL_DIR	:= $(ARCH_DIR)/sys-i386/util

SYS_HEADERS = $(SYS_DIR)/sc.h $(SYS_DIR)/thread.h

prepare: $(SYS_HEADERS)

$(SYS_DIR)/sc.h: $(SYS_UTIL_DIR)/mk_sc
	$< > $@

$(SYS_DIR)/thread.h: $(SYS_UTIL_DIR)/mk_thread
	$< > $@

$(SYS_UTIL_DIR)/mk_sc $(SYS_UTIL_DIR)/mk_thread: $(SYS_UTIL_DIR) FORCE ; 

$(SYS_UTIL_DIR): include/asm FORCE
	@$(call descend,$@,)

sysclean :
	rm -f $(SYS_HEADERS)
	@$(call descend,$(SYS_DIR),clean)
