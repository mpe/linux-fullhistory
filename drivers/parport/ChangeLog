2000-05-16  Tim Waugh  <twaugh@redhat.com>

	* share.c (parport_claim): Fix SMP race.

2000-05-15  Gunther Mayer  <gunther.mayer@braunschweig.okersurf.de>

	* parport_pc.c (parport_pc_compat_write_block_pio): Check for
	timeouts.
	(parport_pc_ecp_write_block_pio): Likewise.
	(parport_pc_ecp_read_block_pio): Likewise.

2000-05-02  Gunther Mayer  <gunther.mayer@braunschweig.okersurf.de>

	* parport_pc.c: PCI SYBA patch and verbose PCI detection.

2000-05-02  Gunther Mayer  <gunther.mayer@braunschweig.okersurf.de>

	* parport_pc.c (decode_smsc): Fix SMSC 665/666 identification.

2000-04-28  Tim Waugh  <twaugh@redhat.com>

	* ieee1284.c: Short function descriptions can't be multiline.

	* daisy.c: Short function descriptions can't be multiline.

2000-04-19  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (parport_pc_fifo_write_block_dma): Make maxlen
	calculation a bit clearer.

	* ieee1284.c (parport_negotiate): Turn on data line drivers.

	* ieee1284_ops.c (parport_ieee1284_read_byte): Turn off data line
	drivers.
	(parport_ieee1284_write_compat): Turn on data line drivers.

	* daisy.c (assign_addrs): Turn on data line drivers.
	(cpp_mux): Likewise.
	(cpp_daisy): Likewise.

2000-04-04  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c: Add support for another PCI card.

2000-04-04  Tim Waugh  <twaugh@redhat.com>

	* daisy.c: Documentation in kernel-doc format.

	* ieee1284.c: Likewise.

	* share.c: Likewise.

2000-04-01  Tim Waugh  <twaugh@redhat.com>

	* share.c (parport_register_device): Need to hold the module
	reference counts before sleeping.

2000-03-27  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (parport_pc_ecp_read_block_pio): Correct operation
	when peripheral is trying to send data when we stop listening.

2000-03-22  Tim Waugh  <twaugh@redhat.com>

	* init.c (parport_setup): Fix return value.

2000-03-21  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (parport_pc_pci_probe): Fix return value; call
	pci_enable_device.

2000-03-16  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (parport_ECP_supported): This seems to trigger on
	machines that don't have an IRQ conflict; toned down the warning
	message accordingly.

2000-03-16  Gunther Mayer  <gunther.mayer@braunschweig.netsurf.de>

	* parport_pc.c (show_parconfig_smsc37c669): Fix typo.
	(decode_winbond): More IDs.
	(winbond_check): Protect against false positives.
	(winbond_check2): Likewise.
	(smsc_check): Likewise.

2000-03-15  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (cleanup_module): Don't call pci_unregister_driver
	if we didn't call pci_register_driver first.

2000-03-13  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (parport_pc_init): Moved from asm/parport.h.

	* Config.in: CONFIG_PARPORT_PC_SUPERIO: new option.

	* parport_pc.c (show_parconfig_smsc37c669): Make __devinit.
	(show_parconfig_winbond): Likewise.
	(decode_winbond): Likewise.
	(decode_smsc): Likewise.
	(winbond_check): Likewise.
	(winbond_check2): Likewise.
	(smsc_check): Likewise.
	(detect_and_report_winbond): Likewise.
	(detect_and_report_smsc): Likewise.
	(get_superio_dma): Likewise.
	(get_superio_irq): Likewise.
	(parport_pc_find_isa_ports): New function.
	(parport_pc_find_ports): New function.
	(init_module): Make superio a config option, not a parameter.

2000-03-10  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c (decode_winbond): Use correct 83877ATF chip ID.
	(decode_winbond): Fix typo.

2000-03-09  Tim Waugh  <twaugh@redhat.com>

	* parport_pc.c: Integrate SuperIO PCI probe with normal PCI card
	probe, so that the MODULE_DEVICE_TABLE is complete.

